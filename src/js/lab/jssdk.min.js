/**version:1.0.7;author:plat-h5**/
!function(e,t,r){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?r(e,t):function(e){return r(e,t)}:"function"==typeof define&&(define.cmd||define.amd)?define(function(){return r(e,t)}):r(e,t)}(void 0!==this?this:window,window,function(e,t){var r=function(){var e={alert:!1,debug:!1};return e.printMsg=function(t,r){e.debug&&console.log("***"+t+"*** "+r),e.alert&&alert("***"+t+"*** "+r)},e}();return e=e||this,e.JSSDK=r,function(e){"use strict";e.Common={client:function(){var e={},r=navigator&&navigator.userAgent||"";if(/jdapp/.test(r)){e.jdapp=!0;var a=r.split(";");e.appVersion=a[2],e.OSVersion=a[3],e.udid=a[4],e.network=a[5].replace("network/",""),e.phone=a[10].replace("model/","")}if(e.iPhoneX=["iPhone10,3","iPhone10,6","iPhone11,2","iPhone11,3","iPhone11,4","iPhone11,6","iPhone11,8"].indexOf(e.phone)>-1,e.jailbreak=r.indexOf("channelID/pp601")>-1,e.WKwebview=r.indexOf("supportJDSHWK/1")>-1||1==t._is_jdsh_wkwebview,e.ios=!!r.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),e.android=!e.ios,e.iPhone=r.indexOf("iPhone")>-1||r.indexOf("iphone")>-1,e.iPad=r.indexOf("iPad")>-1||r.indexOf("ipad")>-1,e.weixin=(r.indexOf("MicroMessenger")>-1||r.indexOf("micromessenger")>-1)&&"miniprogram"!=t.window.__wxjs_environment,e.miniprogram=(r.indexOf("MicroMessenger")>-1||r.indexOf("micromessenger")>-1)&&"miniprogram"===t.window.__wxjs_environment,e.qq=r.match(/(QQ)\/([\d\.]+)/i),e.trident=r.indexOf("Trident")>-1,e.presto=r.indexOf("Presto")>-1,e.webKit=r.indexOf("AppleWebKit")>-1,e.gecko=r.indexOf("Gecko")>-1&&-1==r.indexOf("KHTML"),e.chrome=null!==r.match(/Chrome/i)&&null===r.match(/Version\/\d+\.\d+(\.\d+)?\sChrome\//i),e.safari=(e.iPhone||e.iPad)&&r.match(/Safari/),e.safariVersion=0,e.safari){var n=r.match(/Version\/([\d\.]+)/);e.safariVersion=n;try{e.safariVersion=parseFloat(n[1],10)}catch(e){}}return e.ios10Chrome=!!r.match(/(Mac\sOS)\sX\s([\d_]+)/),e.isSAMSUNGN7508V=-1!=r.toUpperCase().indexOf("SAMSUNG-SM-N7508V"),e.jdapp&&(e.qq=!1,e.miniprogram=!1,e.weixin=!1,e.chrome=!1,e.safari=!1),e}(),printMsg:function(t,r){e.printMsg(t,r)},mergeJson:function(e,t){var r={};for(var a in e)r[a]=e[a];for(a in t)r[a]=t[a];return r},extend:function(e,t){t=t||{};for(var r in t)e.hasOwnProperty(r)&&(e[r]=t[r]);return e},stringify:function(e){return e=e||"",JSON.stringify(e)},formatParams:function(e){var t=[];for(var r in e)e[r]&&t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t.join("&")},isNull:function(e){var t=!1;return void 0===e?t=!0:"object"!=typeof e||e instanceof Array?0===e.replace(/(^s*)|(s*$)/g,"").length&&(t=!0):t=this.isObjEmpty(e),t},isObjEmpty:function(e){var t=!0;if("object"==typeof e&&!(e instanceof Array))for(var r in e){t=!1;break}return t},isObj:function(e){return"object"==typeof e&&!!e},isJSONString:function(e){try{return!!(this.isString(e)&&e.indexOf("{")>-1)&&(JSON.parse(e),!0)}catch(e){return!1}},isString:function(e){return"[object String]"==Object.prototype.toString.call(e)},getCookie:function(e){var t,r=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return t=document.cookie.match(r),t?t[2]:null},hasIntersectByKey:function(e,t){e=e||{},t=t||{};var r={isExist:!1,paramExist:[]};for(var a in e)if(t.hasOwnProperty(a)){r.isExist=!0,r.paramExist.push(a);break}return r},isSubSetByKeys:function(e,t){e=e||{},t=t||{};var r={isSub:!0,lackParam:[]};for(var a in e)t.hasOwnProperty(a)||(r.isSub=!1,r.lackParam.push(a));return r},firstUpperCase:function(e){return e.toLowerCase().replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},compareVersion:function(e){var t=-1;if(this.client.jdapp){var r=this.client.appVersion,a=r.split("."),n=e.split(".");if(a.length>=3&&n.length>=3){(parseInt(a[0])>=10||parseInt(n[0])>=10)&&(a[0]="0"+a[0],n[0]="0"+n[0],a[0]=a[0].substr(-1,2),n[0]=n[0].substr(-1,2)),(parseInt(a[1])>=10||parseInt(n[1])>=10)&&(a[1]="0"+a[1],n[1]="0"+n[1],a[1]=a[1].substr(-1,2),n[1]=n[1].substr(-1,2)),(parseInt(a[2])>=10||parseInt(n[2])>=10)&&(a[2]="0"+a[2],n[2]="0"+n[2],a[2]=a[2].substr(-1,2),n[2]=n[2].substr(-1,2));t=parseInt(a[0].toString()+a[1].toString()+a[2].toString())-parseInt(n[0].toString()+n[1].toString()+n[2].toString())}}return t},hexCharToStr:function(e){var t=e.trim(),r="0x"===t.substr(0,2).toLowerCase()?t.substr(2):t,a=r.length;if(a%2!=0)return e;for(var n,i=[],o=0;o<a;o+=2)n=parseInt(r.substr(o,2),16),i.push(String.fromCharCode(n));return i.join("")},deCompileForStr:function(e){var t=e.split("");return t=t.reverse(),this.hexCharToStr(t.join(""))},deCompileForJson:function(e){e=e||{};for(var t in e)e[t]=this.deCompileForStr(e[t])}},e.Common}(r),function(e){"use strict";var t=0,r=[],a=[],n={id:"{{BUSINESSID}}",key:"{{BUSINESSKEY}}",domain:"{{BUSINESSDOMAIN}}",url:"//badjs.m.jd.com/report",combo:1,level:2,delay:1e3},i=function(t){var r={};return r=e.Common.isObj(t)?t:{msg:t},r.from||(r.from=location.href),r},o=function(){var e=parseInt(n.id,10);if(!e)return!1;/jd\.com$/gi.test(location.hostname)&&(n.url||(n.url="//badjs.m.jd.com/report")),n.report=(n.url||"/report")+"?id="+e+"&"},s=function(t,r){var a=[],i=[],o=[];if(e.Common.isObj(t)){t.key=t.key||n.key,t.domain=t.domain||n.domain,t.level=t.level||n.level;for(var s in t){var l=t[s];if(l=l.toString(),!e.Common.isNull(l)){if(e.Common.isObj(l))try{l=e.Common.stringify(l)}catch(e){l="[JSSDK_REPORT detect value stringify error] "+e.toString()}o.push(s+":"+l),a.push(s+"="+encodeURIComponent(l)),i.push(s+"["+r+"]="+encodeURIComponent(l))}}}return[i.join("&"),o.join(","),a.join("&")]},l=function(e){(new Image).src=e},c=function(){for(o();r.length;){var e=r.shift(),i=s(e,a.length);a.push(i[0])}if(a.length){var c=function(){clearTimeout(t),n.report&&l(n.report+a.join("&")+"&count="+a.length+"&_t="+new Date),t=0,a=[]};t||(t=setTimeout(c,n.delay))}},m={push:function(e){var t=i(e);return r.push(t),c(),m},report:function(e){var t=i(e);return r.push(t),c(),m}};e.Report=m}(r),function(e){"use strict";e.Validator={patterns:{email:function(e,t){return/^(?:[a-z0-9]+[_\-+.]?)*[a-z0-9]+@(?:([a-z0-9]+-?)*[a-z0-9]+.)+([a-z]{2,})+$/i.test(e)},mobile:function(e,t){return/^1[3-9]\d{9}$/.test(e)},tel:function(e,t){return/^(?:(?:0\d{2,3}[- ]?[1-9]\d{6,7})|(?:[48]00[- ]?[1-9]\d{6}))$/.test(e)},url:function(e,t){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(e)},digit:function(e,t){return/^\d+$/.test(e)},minLength:function(e,t){return e.length>=t},maxLength:function(e,t){return e.length<=t},min:function(e,t){return e>=t},max:function(e,t){return e<=t},range:function(e,t){return e>=t[0]&&e<=t[1]},date:function(e,t){return!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},require:function(e,t){return/\S+/.test(e)}},isValid:function(e,t){e=e||{};var r={isMatch:!0,paramType:""};for(var a in e){if(!r.isMatch)break;this.patterns.hasOwnProperty(a)&&(r.isMatch=this.patterns[a](t,e[a]),r.paramType=a)}return r}}}(r.Common),function(e,t){"use strict";e.Controller={runFun:function(e,t,r){var a=this.getBusinessFunType(e,t);this.checkIsJDApp()?this.runNativeFun(e,t,a,r):this.runWebFun(e,t,a,r)},runNativeFun:function(e,r,a,n){t.printMsg("runNativeFun","funName:"+r+";funType:"+a+";objName:"+e),(0,this.constructNativeObj(a,e)[r])(this.constructParams(n))},runWebFun:function(e,r,a,n){"jump"==a.toLowerCase()&&(e="Public",r="toUrl"),t.printMsg("runWebFun","funName:"+r+";funType:"+a+";objName:"+e),(0,this.constructWebObj(a,e)[r])(this.constructParams(n))},constructNativeObj:function(e,t){return this.constructObj("Native",e,t)},constructWebObj:function(e,t){return this.constructObj("Web",e,t)},constructServiceObj:function(e,t){return this.constructObj("Service",e,t)},constructObj:function(r,a,n){return t.isNull(a)?e[r][n]:e[r][t.firstUpperCase(a)][n]},constructParams:function(e){return e},checkIsJDApp:function(){return!!t.client.jdapp},getBusinessFunType:function(e,t){return"Jump"},runServiceFun:function(e,r,a,n,i){t.printMsg("runServiceFun","funName:"+r+";funType:"+i+";objName:"+e),(0,this.constructServiceObj(i,e)[r])(this.constructParams(a),n)},getCommonClientValue:function(e){return t.client[e]}},e.Controller}(r,r.Common),function(e){"use strict";e.Native={},e.Native}(r),function(e){"use strict";e.Android={}}(r.Native),function(e){"use strict";e.IOS={options:{routerHeader:"router"},callBridgeFun:function(e,t){var r=this.getOptions("routerHeader"),a=e.toString();this.setupWebViewJavascriptBridgeByIOS(function(e){e.callHandler(r,a,t)})},setupWebViewJavascriptBridgeByIOS:function(e){if(t.WebViewJavascriptBridge)return e(t.WebViewJavascriptBridge);if(t.WVJBCallbacks)return t.WVJBCallbacks.push(e);t.WVJBCallbacks=[e];var r=document.createElement("iframe");r.style.display="none",r.src="https://__bridge_loaded__",document.documentElement.appendChild(r),setTimeout(function(){document.documentElement.removeChild(r)},0)},getOptions:function(e){return this.options[e]}}}(r.Native),function(e,t){"use strict";e.Web={},e.Web}(r,r.Common),function(e,r){"use strict";e.Service={corsRequest:function(e,t,a){r.printMsg("corsRequest","url="+e+";params="+r.stringify(t)),t=t||{},this.Ajax({url:e,data:t,xhrFields:{withCredentials:!0},dataType:"json",success:function(e,t){a(JSON.parse(e))},fail:function(e){a(e)}})},successResponse:function(e,t,r){return e=e||{},r=r||{},t({REQ_FLAG:!0,REQ_CODE:"1",REQ_DATA:e,REQ_MSG:r})},errorResponse:function(e){return e({REQ_FLAG:!1,REQ_CODE:"3",REQ_DATA:{},REQ_MSG:"connect error"})},failedResponse:function(e,t){return t=t||{},e({REQ_FLAG:!1,REQ_CODE:"2",REQ_DATA:{},REQ_MSG:t})},Ajax:function(e){e=e||{},e.type=(e.type||"GET").toUpperCase(),e.dataType=e.dataType||"json";var a=r.formatParams(e.data),n=null;if(n=t.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),n.onreadystatechange=function(){if(4==n.readyState){var t=n.status;t>=200&&t<300?e.success&&e.success(n.responseText,n.responseXML):e.fail&&e.fail(t)}},e.xhrFields)for(var i in e.xhrFields)n[i]=e.xhrFields[i];e.mimeType&&n.overrideMimeType&&n.overrideMimeType(e.mimeType),"GET"==e.type?(n.open("GET",e.url+"?"+a,!0),n.send(null)):"POST"==e.type&&(n.open("POST",e.url,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(a))}}}(r,r.Common),function(e){"use strict";e.Schema={options:{openAppVirtualHeader:"d337d616271607f3c6165747279667f2f2a356c69626f6d446a6e2070714e65607f6",openAppComHeader:"d337d616271607f3e6f69647163696e657d6d6f636f2f2a356c69626f6d646a6e2070716e65607f6",routerHeader:"f2f2a327564757f627"},getOpenAppVirtualHeader:function(){return this.options.openAppVirtualHeader},getOpenAppComHeader:function(){return this.options.openAppComHeader},getRouterHeader:function(e){return this.options.routerHeader+e+"?"},ready:function(){e.Common.deCompileForJson(this.options)}},e.Schema.ready()}(r),function(e,r){"use strict";e.CallApp={options:{isAppInstalled:!1,downAppUrl:"https://wqs.jd.com/downloadApp/downloadAppIOSMPage.html",downAppUrlByWX:"http://a.app.qq.com/o/simple.jsp?pkgname=com.jingdong.app.mall&g_f=991850",downAppUrlByIos:"https://itunes.apple.com/cn/app/id414245413",downAppUrlByIPad:"https://itunes.apple.com/cn/app/jing-dong-hd/id434374726?mt=8"},callApp:function(e){r.client.jdapp?(this.setAppInstalled(),t.location.href=e):r.client.weixin?this.isWeixinJSBridgeReady(e):this.callAppFromBrowser(e)},isWeixinJSBridgeReady:function(e){var r=this,a=setInterval(function(){t.WeixinJSBridge&&(r.callAppFromWX(e),clearInterval(a))},100)},callAppFromWX:function(e){if(this.options.isAppInstalled)t.location.href=e;else if(t.WeixinJSBridge&&WeixinJSBridge.invoke){var r=this;WeixinJSBridge.invoke("getInstallState",{packageName:"com.jingdong.app.mall",packageUrl:"openApp.jdMobile://"},function(a){var n=a.err_msg;n.indexOf("get_install_state:yes")>-1?(r.options.isAppInstalled=!0,t.location.href=e):t.location.href=r.getAppDownUrl()})}},callAppFromBrowser:function(e){r.client.chrome?this.callAppFromChrome(e):this.isSafariOver9()||r.client.isIos10Chrome||r.client.isSAMSUNGN7508V?this.callAppFromFewBrowser(e):this.callAppFromCommonBrowser(e)},callAppFromChrome:function(e){var r=Date.now(),a=this.getAppUrlByChrome(e);t.location.href=a,this.jumpToDownUrl(r)},callAppFromFewBrowser:function(e){var t=Date.now();this.jumpToDownUrl(t);var r=document.createElement("a");r.setAttribute("href",e),r.style.display="none",document.body.appendChild(r);var a=document.createEvent("HTMLEvents");a.initEvent("click",!1,!1),r.dispatchEvent(a)},callAppFromCommonBrowser:function(e){var t=Date.now(),r=document.createElement("frame");r.src=e,r.style.display="none",document.body.appendChild(r),setTimeout(function(){document.body.removeChild(r)},3e3),this.jumpToDownUrl(t)},jumpToDownUrl:function(e){var r=this;r.options.isAppInstalled||setTimeout(function(){Date.now()-e<5e3?t.location.href=r.getAppDownUrl():t.close()},25)},isSafariOver9:function(){return!!(r.client.safari&&r.client.safariVersion>9)},getAppUrlByChrome:function(e){return"intent://m.jd.com/#Intent;scheme="+e+";package=com.jingdong.app.mall;end"},getAppDownUrl:function(){return r.client.weixin?this.options.downAppUrlByWX:r.client.iPad?this.options.downAppUrlByIPad:r.client.iPhone?this.options.downAppUrlByIos:this.options.downAppUrl},setAppInstalled:function(){this.options.isAppInstalled=!0}},e.CallApp}(r,r.Common),function(e){"use strict";e.Module={checkInputParams:function(t,r){var a=t.requiredParams,n=t.typeParams,i=t.ruleParams||{},o=!0;return e.Common.isNull(a)||(e.Common.isNull(r)?o=!1:this.isMatchedRequiredParams(a,r)||(o=!1)),e.Common.isNull(n)||e.Common.isNull(r)||this.isDiffStaticParams(n,r)||(o=!1),e.Common.isNull(i)||e.Common.isNull(r)||this.isMatchedByRuleParams(i,r)||(o=!1),o},isMatchedByRuleParams:function(t,r){t=t||{},r=r||{};var a=!0,n={};for(var i in t)if(r.hasOwnProperty(i)&&(n=e.Common.Validator.isValid(t[i],r[i]),!n.isMatch)){e.Common.printMsg("invalid parameters","params:"+e.Common.stringify(r)+"\nthe type of param "+i+" must be "+n.paramType),a=!1;break}return a},isMatchedRequiredParams:function(t,r){var a=e.Common.isSubSetByKeys(t,r);return a.isSub||e.Common.printMsg("invalid parameters","params:"+e.Common.stringify(r)+"\nlack param "+a.lackParam),a.isSub},isDiffStaticParams:function(t,r){var a=e.Common.hasIntersectByKey(t,r);return a.isExist&&e.Common.printMsg("invalid parameters","params:"+e.Common.stringify(r)+"\nthe param "+a.paramExist+" can't be change"),!a.isExist},getConfigString:function(t,r){return e.Common.stringify(this.getWholeCurrentParams(t,r))},getStandardConfigStr:function(t,r){return e.Common.formatParams(this.getWholeCurrentParams(t,r))},getWholeCurrentParams:function(t,r){return r=this.filterInputParams(t,r),e.Common.extend(this.getWholeDefaultParams(t),r)},getWholeDefaultParams:function(t){var r=e.Common.mergeJson(t.typeParams,t.edgeParams);return e.Common.mergeJson(r,t.requiredParams)},getOpenAppVirtualHeader:function(){return e.Schema?e.Schema.getOpenAppVirtualHeader():""},getOpenAppComHeader:function(){return e.Schema?e.Schema.getOpenAppComHeader():""},getRouterHeader:function(t){return e.Schema?e.Schema.getRouterHeader(t):""},getOpenAppVirtualUrl:function(e,t){return this.getOpenAppVirtualHeader()+this.getConfigString(e,t)},getOpenAppComUrl:function(e,t){return this.getOpenAppComHeader()+this.getConfigString(e,t)},getRouterUrl:function(e,t,r){return this.getRouterHeader(e)+this.getStandardConfigStr(t,r)},getDefaultOpenAppUrl:function(e,t){return this.getOpenAppVirtualUrl(e,t)},toAppUrl:function(r){e.CallApp?e.CallApp.callApp(r):t.location.href=r},isIOS:function(){return e.Common.client.ios||e.Common.client.iPhone||e.Common.client.iPad},isAndroid:function(){return e.Common.client.android},isJDApp:function(){return e.Common.client.jdapp||!1},isWKwebview:function(){return!(!e.Common.client.WKwebview&&1!=t._is_jdsh_wkwebview)},filterInputParams:function(e,t){return t=this.parseInputParams(e,t)},parseInputParams:function(e,t){if(e){var r=e.ruleParams;if(r)for(var a in r)r[a].hasOwnProperty("url")&&r[a].url&&this.isIOS()&&(t[a]=encodeURIComponent(t[a])),r[a].hasOwnProperty("digit")&&r[a].digit&&(t[a]=t[a].toString())}return t},callServiceFun:function(t,r,a){if(this.report("callServiceFun"),this.checkInputParams(t,r)){var n=this.getWholeCurrentParams(t,r);if(n=n||{},n.hasOwnProperty("requestUrl")){var i=n.requestUrl;delete n.requestUrl,e.Service.corsRequest(i,n,a)}else e.Service.failedResponse(a,"lack of parameter 'requestUrl'")}else e.Service.failedResponse(a,"invalid params")},report:function(t){e.Report&&setTimeout(function(){e.Common.printMsg("module","funName=report"),e.Report.push(t)},0)},doFunForPlatForm:function(e,t,r,a,n){var i=t,o=null;if(e&&e.versionParams&&e.versionParams[t]&&(o=e.versionParams[t]),o&&(i=this.getApiNameByVersion(t,o)),i===t){this.report(i);var s=null;e&&e.optionParams&&e.optionParams[t]&&(s=e.optionParams[t]),s&&!this.checkInputParams(s,r)?this.errorCallback("param not valid",a):n()}else e&&e[i]?e[i](r,a):this.errorCallback("fun not found,funName:"+i,a)},doBridgeFun:function(t,r){var a=r.apiName=r.apiName||"";if(!r.apiName)return e.Common.printMsg("apiName not found"),!1;r.inputParams=r.inputParams||{},r.inputCallback=r.inputCallback||function(e){console.log(e)};var n="android";this.isIOS()&&(n="ios");var i=null;if(t&&t.optionParams&&t.optionParams[r.apiName]&&(i=t.optionParams[r.apiName]),i&&!this.checkInputParams(i,r.inputParams))return this.errorCallback("param not valid",r.inputCallback),!1;if(t&&t.versionParams&&t.versionParams[r.apiName]){var o=null;o=t.versionParams[r.apiName][n]?t.versionParams[r.apiName][n]:t.versionParams[r.apiName],o&&(a=this.getApiNameByVersion(r.apiName,o))}a===r.apiName?(this.report(a),r.logic?r.logic():this.errorCallback("params.logic not found",r.inputCallback)):t&&t[a]?t[a](r.inputParams,r.inputCallback):this.errorCallback("fun not found,funName:"+a,r.inputCallback)},getApiNameByVersion:function(t,r){if(r&&e.Common.client.jdapp)for(var a in r){var n=a.begin||"",i=a.end||"",o=1,s=-1;""!==n&&(o=common.compareVersion(n)),""!==i&&(s=common.compareVersion(i)),o>=0&&s<0&&(t=a)}return t},callIOSStandardBridge:function(t,r){if(e.Native.IOS){var a=this;e.Native.IOS.callBridgeFun(t,function(e){a.standardCallback(e,r)})}else this.standardCallback({state:"0",data:"",msg:"JSSDK.IOS module not found!"},r)},standardCallback:function(t,r){if(e.Common.isObj(t))this._standardCallbackByJson(t,r);else if(e.Common.isString(t)&&""!==t)if(e.Common.isJSONString(t)){var a=JSON.parse(t);this._standardCallbackByJson(a,r)}else r({state:"1",data:t,msg:""});else r({state:"0",data:"",msg:"data type not support"})},_standardCallbackByJson:function(t,r){r(t.result&&e.Common.isObj(t.result)?{state:t.result.state||"0",data:t.result.data||"",msg:t.result.msg||""}:{state:t.state||"0",data:t.data||t,msg:t.msg||""})},errorCallback:function(t,r){e.Common.isObj(t)?(t.state="0",this._standardCallbackByJson(t,r)):this._standardCallbackByJson({state:"0",data:"",msg:t},r)},successCallback:function(t,r){if(e.Common.isObj(t))t.result?t.result.state="1":t.state="1",this._standardCallbackByJson(t,r);else if(e.Common.isString(t)&&""!==t)if(e.Common.isJSONString(t)){var a=JSON.parse(t);a.result?a.result.state="1":a.state="1",this._standardCallbackByJson(a,r)}else r({state:"1",data:t,msg:""});else this._standardCallbackByJson({state:"1",data:t,msg:""},r)}}}(r),function(e,t,r){"use strict";e.Jump={optionParams:{category:"jump"},readOptParamsByClassName:function(e,t){return e.optionParams[t+"Params"]},getWholeDefaultParams:function(e,r){var a=this.readOptParamsByClassName(e,r),n=this.optionParams||{};return a.typeParams=t.mergeJson(a.typeParams,n),a},getJumpToUrl:function(e,a,n){return e=t.firstUpperCase(e),r.getDefaultOpenAppUrl(this.getWholeDefaultParams(this[e],a),n)},getFormatDefaultParams:function(e,t){return this.readOptParamsByClassName(e,t)},getFormatJumpToUrl:function(e,a,n){return e=t.firstUpperCase(e),r.getStandardConfigStr(this.getFormatDefaultParams(this[e],a),n)},checkInputParams:function(e,a,n){e=t.firstUpperCase(e);var i=this.readOptParamsByClassName(this[e],a);return r.checkInputParams(i,n)},jumpToPage:function(e,a,n){if(this.checkInputParams(e,a,n)){r.report(e+"."+a);var i=this.getJumpToUrl(e,a,n);t.printMsg("JSSDK.Native.Jump."+e+"."+a,"url:"+i),r.toAppUrl(i)}}},e.Jump}(r.Native,r.Common,r.Module),function(e,r,a){"use strict";e.Jump={optionParams:{category:"jump"},readOptParamsByClassName:function(e,t){return e.optionParams[t+"Params"]},getJumpToUrl:function(e,t,r){return r=r||{},r.web_url=r.web_url||"",r.web_url},isDiffStaticParams:function(e,t){return a.isDiffStaticParams(e,t)},isMatchedRequiredParams:function(e,t){return a.isMatchedRequiredParams(e,t)},checkInputParams:function(e,t,n){e=r.firstUpperCase(e);var i=this.readOptParamsByClassName(this[e],t);return a.checkInputParams(i,n)},jumpToPage:function(e,a,n){if(this.checkInputParams(e,a,n)){var i=this.getJumpToUrl(e,a,n);r.printMsg("JSSDK.Web.Jump."+e+"."+a,"url:"+i),t.location.href=i}}},e.Jump}(r.Web,r.Common,r.Module),function(e,r){"use strict";var a={tencentVideo:{appscheme:"tenvideo2://?action=10&",h5scheme:"https://film.qq.com/h5/vplus/oauth/index.html?",download:"https://film.qq.com/h5/app/openapp.html?auto=0"}};r.Openapp={optionParams:{toThirdPartyAppParams:{typeParams:{channelid:"jd"},edgeParams:{actType:"",ru:"",type:"",auto:"",schemeUrl:""},requiredParams:{},ruleParams:{}}},toThirdPartyApp:function(n,i,o){if("tencentVideo"===n&&o.openurl&&""!==o.openurl){var s=o.openurl;delete o.openurl,o.actType=e.Common.client.jdapp?"1":"2";var l=r.getFormatJumpToUrl("Openapp","toThirdPartyApp",o);if(s=encodeURIComponent(s+"?"+l),e.Common.client.jdapp){e.Common.printMsg("JSSDK.Native.Jump.openApp.toThirdPartyApp","url:"+a.tencentVideo.appscheme+l);var c=Date.now();t.location.href=a.tencentVideo.appscheme+"openurl="+s,i&&setTimeout(function(){Date.now()-c<1e3&&(t.location.href=a.tencentVideo.download)},500)}else e.Common.printMsg("JSSDK.Native.Jump.openApp.toThirdPartyApp","url:"+a.tencentVideo.h5scheme+l),t.location.href=a.tencentVideo.h5scheme+encodeURI(l)}}}}(r,r.Native.Jump),function(e,r){"use strict";e.WebView={params:{resetConfigBtnParams:{typeParams:{clear_js:{type:"clear_js",display:"show",position:"inside",title:"",icon:"",jump:""}},edgeParams:{},requiredParams:{}},configAllBtnParams:{typeParams:{},edgeParams:{homepage:{type:"homepage",display:"hide",position:"inside",title:"",icon:"",jump:""},calendar:{type:"calendar",display:"hide",position:"inside",title:"",icon:"",jump:""},search:{type:"search",display:"hide",position:"inside",title:"",icon:"",jump:""},message:{type:"message",display:"hide",position:"inside",title:"",icon:"",jump:""},cart:{type:"cart",display:"hide",position:"inside",title:"",icon:"",jump:""},feedback:{type:"feedback",display:"hide",position:"inside",title:"",icon:"",jump:""},hidemore:{type:"hidemore",display:"hide",position:"inside",icon:"",title:"",jump:""}},requiredParams:{}},configCartBtnParams:{typeParams:{type:"cart",icon:"",title:"",jump:""},edgeParams:{display:"show",position:"inside"},requiredParams:{}},configSearchBtnParams:{typeParams:{type:"search",icon:"",title:"",jump:""},edgeParams:{display:"show",position:"inside"},requiredParams:{}},configCustomBtnParams:{typeParams:{type:"custom"},edgeParams:{display:"show",position:"inside",icon:"",title:"",jump:""},requiredParams:{}},callIosSharePanelParams:{typeParams:{category:"jump",des:"share",type:"111",shareActionType:"P"},edgeParams:{imageUrl:"",iconUrl:"",channel:"",isCallBack:"N",callfunc:null,timeline_title:"",qrparam:{top_pic:"",mid_pic:"",slogan:"",qr_title:"",qr_content:"",qr_direct:""},mpId:"",mpPath:"",mpIconUrl:"",incentiveBizType:"",incentiveBizId:""},requiredParams:{title:"",content:"",shareUrl:""},ruleParams:{title:{require:!0},content:{require:!0},shareUrl:{url:!0,require:!0}}},callAndroidSharePanelParams:{typeParams:{shareActionType:"P"},edgeParams:{imageUrl:"",iconUrl:"",channel:"",callback:"N",callfunc:null,eventId:"",timeline_title:"",qrparam:{},mpId:"",mpPath:"",mpIconUrl:"",incentiveBizType:"",incentiveBizId:""},requiredParams:{title:"",content:"",shareUrl:""},ruleParams:{title:{require:!0},content:{require:!0},shareUrl:{url:!0,require:!0}}},callIosHeaderSharePanelParams:{typeParams:{category:"jump",des:"share",type:"111",shareActionType:"S"},edgeParams:{imageUrl:"",iconUrl:"",channel:"",isCallBack:"N",callfunc:null,qrparam:{top_pic:"",mid_pic:"",slogan:"",qr_title:"",qr_content:"",qr_direct:""},mpId:"",mpPath:"",mpIconUrl:"",incentiveBizType:"",incentiveBizId:""},requiredParams:{title:"",content:"",shareUrl:""},ruleParams:{title:{require:!0},content:{require:!0},shareUrl:{url:!0,require:!0}}},callAndroidHeaderSharePanelParams:{typeParams:{shareActionType:"S"},edgeParams:{imageUrl:"",iconUrl:"",channel:"",callback:"N",callfunc:null,eventId:"",timeline_title:"",qrparam:{},mpId:"",mpPath:"",mpIconUrl:"",incentiveBizType:"",incentiveBizId:""},requiredParams:{title:"",content:"",shareUrl:""},ruleParams:{title:{require:!0},content:{require:!0},shareUrl:{url:!0,require:!0}}},callIosDirectlyShareParams:{typeParams:{category:"jump",des:"share",type:"111",shareActionType:"O"},edgeParams:{imageUrl:"",iconUrl:"",channel:"",isCallBack:"N",callfunc:null,qrparam:{top_pic:"",mid_pic:"",slogan:"",qr_title:"",qr_content:"",qr_direct:""},mpId:"",mpPath:"",mpIconUrl:"",incentiveBizType:"",incentiveBizId:""},requiredParams:{title:"",content:"",shareUrl:""},ruleParams:{title:{require:!0},content:{require:!0},shareUrl:{url:!0,require:!0}}},callAndroidDirectlyShareParams:{typeParams:{shareActionType:"O"},edgeParams:{imageUrl:"",iconUrl:"",channel:"",callback:"N",callfunc:null,eventId:"",timeline_title:"",qrparam:{},mpId:"",mpPath:"",mpIconUrl:"",incentiveBizType:"",incentiveBizId:""},requiredParams:{title:"",content:"",shareUrl:""},ruleParams:{title:{require:!0},content:{require:!0},shareUrl:{url:!0,require:!0}}},setIosCartParams:{typeParams:{},edgeParams:{action:"sh_showCart"},requiredParams:{}},setAndroidCartParams:{typeParams:{},edgeParams:{isShow:"Y"},requiredParams:{}},setNaviBackgroundParams:{typeParams:{},edgeParams:{backgroundColor:"",pic:""},requiredParams:{naviIcon:""},ruleParams:{naviIcon:{require:!0}}},saveImageParams:{typeParams:{},edgeParams:{callBackName:null,callBackId:""},requiredParams:{imgUrl:""},ruleParams:{imgUrl:{require:!0,url:!0}}},setNaviTransparentParams:{typeParams:{},edgeParams:{whiteImg:"",blackImg:"",backgroundColor:"",naviMenuType:""},requiredParams:{}}},configBtn:function(a,n){if(r.checkInputParams(a,n)){var i=r.getConfigString(a,n);if(e.Common.printMsg("webview","_configStr:"+i),t.MobileNavi&&MobileNavi.configBtn)MobileNavi.configBtn(i);else if(e.Common.client.WKwebview){var o={method:"configBtn",params:i};t.webkit&&t.webkit.messageHandlers.MobileNavi.postMessage&&t.webkit.messageHandlers.MobileNavi.postMessage(o)}}},configBtn610:function(a,n){if(r.isJDApp()&&r.checkInputParams(a,n)){var i=r.getConfigString(a,n);if(e.Common.printMsg("webview","_configStr610:"+i),t.MobileNavi&&MobileNavi.configBtnSince610)MobileNavi.configBtnSince610(i);else if(e.Common.client.WKwebview){var o={method:"configBtnSince610",params:i};t.webkit&&t.webkit.messageHandlers.MobileNavi.postMessage&&t.webkit.messageHandlers.MobileNavi.postMessage(o)}}},hideAllBtn:function(e){this.configBtn610(this.params.resetConfigBtnParams,e),this.configBtn610(this.params.configAllBtnParams,e),r.report("hideAllbtn")},resetConfigBtn:function(e){this.configBtn610(this.params.resetConfigBtnParams,e),r.report("resetConfigBtn")},configCustomBtn:function(e){this.configBtn(this.params.configCustomBtnParams,e)},configCartBtn:function(e){this.configBtn(this.params.configCartBtnParams,e)},configSearchBtn:function(e){this.configBtn(this.params.configSearchBtnParams,e)},setSearchBtnShowOutside:function(){this.configSearchBtn({display:"show",position:"outside"}),r.report("setSearchBtnShowOutside")},setSearchBtnShowInside:function(){this.configSearchBtn({display:"show",position:"inside"}),r.report("setSearchBtnShowInside")},setCartBtnShowOutside:function(){this.configCartBtn({display:"show",position:"outside"}),r.report("setCartBtnShowOutside")},setCartBtnShowInside:function(){this.configCartBtn({display:"show",position:"inside"}),r.report("setCartBtnShowInside")},setCustomBtnShowOutside:function(e){e.display="show",e.position="outside",this.configCustomBtn(e),r.report("setCustomBtnShowOutside")},setCustomBtnShowInside:function(e){e.display="show",e.position="inside",this.configCustomBtn(e),r.report("setCustomBtnShowInside")},refreshCart:function(){e.Common.client.iPhone?this.setIosCart({action:"sh_refreshCart"}):e.Common.client.android&&this.refreshAndroidCart(),r.report("refreshCart")},setPicTitleShow:function(e){this.setPicTitle("show",e)},setPicTitleHide:function(){this.setPicTitle("hide","")},checkInputParams:function(t,r){var a=t.requiredParams,n=t.typeParams,i=!0;return e.Common.isNull(a)||(e.Common.isNull(r)?i=!1:this.isMatchedRequiredParams(a,r)||(i=!1)),e.Common.isNull(n)||e.Common.isNull(r)||this.isDiffStaticParams(n,r)||(i=!1),i},isMatchedRequiredParams:function(t,r){return e.Common.isSubSetByKeys(t,r)},isDiffStaticParams:function(t,r){return!e.Common.hasIntersectByKey(t,r)},getConfigString:function(t,r){return e.Common.stringify(this.getWholeCurrentParams(t,r))},getWholeCurrentParams:function(t,r){return e.Common.extend(this.getWholeDefaultParams(t),r)},getWholeDefaultParams:function(t){var r=e.Common.mergeJson(t.typeParams,t.edgeParams);return e.Common.mergeJson(r,t.requiredParams)},setIosCart:function(t){if(r.checkInputParams(this.params.setIosCartParams,t)){var a=r.getConfigString(this.params.setIosCartParams,t);e.Common.printMsg("webview","setIosCart:"+a),location.href=r.getOpenAppComHeader()+a}},setAndroidCart:function(a){if(r.checkInputParams(this.params.setAndroidCartParams,a)){var n=r.getConfigString(this.params.setAndroidCartParams,a);e.Common.printMsg("webview","setAndroidCart:"+n),t.AndroidNavi&&AndroidNavi.setCart&&AndroidNavi.setCart(n)}},refreshAndroidCart:function(){AndroidNavi&&AndroidNavi.refreshCart&&AndroidNavi.refreshCart()},setPicTitle:function(t,a){e.Common.client.iPhone?this.setIOSPicTitle(t,a):e.Common.client.android&&this.setAndroidPicTitle(t,a),r.report("setPicTitle"+t)},setAndroidPicTitle:function(t,r){var a="N";if("show"==t?a="Y":"hide"==t&&(a="N"),AndroidNavi&&AndroidNavi.setTitle){var n=e.Common.stringify({isShow:a,imageUrl:r});e.Common.printMsg("webview","AndroidNavi: configStr:"+n),AndroidNavi.setTitle(n)}},setIOSPicTitle:function(t,a){var n="show"==t?"sh_showImgTitle":"sh_hideImgTitle",i=e.Common.stringify({action:n,imageUrl:encodeURI(a)});location.href=r.getOpenAppComHeader()+i},shareCallBack:function(r,a){"function"==typeof a.callfunc&&(e.Common.client.iPhone?r.edgeParams.isCallBack="Y":e.Common.client.android&&(r.edgeParams.callback="Y"),t.jdappShareRes=function(e){a.callfunc(e)})},callSharePanel:function(t){e.Common.client.iPhone?this.callIosSharePanel(t):e.Common.client.android&&this.callAndroidSharePanel(t),r.report("callSharePanel")},callIosSharePanel:function(t){if(r.checkInputParams(this.params.callIosSharePanelParams,t)){this.shareCallBack(this.params.callIosSharePanelParams,t);var a=r.getConfigString(this.params.callIosSharePanelParams,t);e.Common.printMsg("webview","callIosSharePanel:"+a),location.href=r.getOpenAppVirtualHeader()+a}},callAndroidSharePanel:function(a){if(r.checkInputParams(this.params.callAndroidSharePanelParams,a)){this.shareCallBack(this.params.callAndroidSharePanelParams,a);var n=r.getConfigString(this.params.callAndroidSharePanelParams,a)
;e.Common.printMsg("webview","callAndroidSharePanel:"+n),t.shareHelper&&shareHelper.initShare?shareHelper.initShare(n):shareHelper&&shareHelper.sendShare&&shareHelper.sendShare(a.title,a.content,a.shareUrl,a.iconUrl,"Wxfriends","Y")}},callHeaderSharePanel:function(t){e.Common.client.iPhone?this.callIosHeaderSharePanel(t):e.Common.client.android&&this.callAndroidHeaderSharePanel(t),r.report("callHeaderSharePanel")},callIosHeaderSharePanel:function(t){if(r.checkInputParams(this.params.callIosHeaderSharePanelParams,t)){this.shareCallBack(this.params.callIosHeaderSharePanelParams,t);var a=r.getConfigString(this.params.callIosHeaderSharePanelParams,t);e.Common.printMsg("webview","callIosHeaderSharePanel:"+a),location.href=r.getOpenAppVirtualHeader()+a}},callAndroidHeaderSharePanel:function(a){if(r.checkInputParams(this.params.callAndroidHeaderSharePanelParams,a)){this.shareCallBack(this.params.callAndroidHeaderSharePanelParams,a);var n=r.getConfigString(this.params.callAndroidHeaderSharePanelParams,a);e.Common.printMsg("webview","callAndroidSharePanel:"+n),t.shareHelper&&shareHelper.initShare&&shareHelper.initShare(n)}},callDirectlyShare:function(t){e.Common.client.iPhone?this.callIosDirectlyShare(t):e.Common.client.android&&this.callAndroidDirectlyShare(t),r.report("callDirectlyShare")},callIosDirectlyShare:function(t){if(r.checkInputParams(this.params.callIosDirectlyShareParams,t)){this.shareCallBack(this.params.callIosDirectlyShareParams,t);var a=r.getConfigString(this.params.callIosDirectlyShareParams,t);e.Common.printMsg("webview","callIosDirectlyShare:"+a),location.href=r.getOpenAppVirtualHeader()+a}},callAndroidDirectlyShare:function(a){if(r.checkInputParams(this.params.callAndroidDirectlyShareParams,a)){this.shareCallBack(this.params.callAndroidDirectlyShareParams,a);var n=r.getConfigString(this.params.callAndroidDirectlyShareParams,a);e.Common.printMsg("webview","callAndroidDirectlyShare:"+n),t.shareHelper&&shareHelper.initShare&&shareHelper.initShare(n)}},setTitleText:function(a){r.isJDApp()&&("[object String]"===Object.prototype.toString.call(a)?(e.Common.client.WKwebview?t.webkit.messageHandlers.MobileNavi.postMessage({method:"setTitle",params:a,callBackName:null,callBackId:null}):t.MobileNavi&&MobileNavi.setTitle&&MobileNavi.setTitle(a),r.report("setTitleText")):e.Common.printMsg("webview","setTitleText environment not support"))},showCloseBtn:function(){r.isJDApp()&&(e.Common.client.WKwebview?t.webkit.messageHandlers.MobileNavi.postMessage({method:"showCloseBtn"}):t.MobileNavi&&MobileNavi.showCloseBtn&&MobileNavi.showCloseBtn(),r.report("showCloseBtn"))},closeActiveWebview:function(){r.isJDApp()&&(e.Common.client.android?t.JdAndroid&&JdAndroid.finishWebActivity?JdAndroid.finishWebActivity():e.Common.printMsg("not support!"):e.Common.client.iPhone&&(t.location.href="closeJDApp://webview"),r.report("closeActiveWebview"))},setNaviBackground:function(a){if(r.isJDApp()){if(r.checkInputParams(this.params.setNaviBackgroundParams,a)){var n=r.getConfigString(this.params.setNaviBackgroundParams,a);if(e.Common.printMsg("webview","setNaviBackground:"+n),t.MobileNavi&&t.MobileNavi.setNaviBackground)MobileNavi.setNaviBackground(n);else if(e.Common.client.WKwebview){var i={method:"setNaviBackground",params:n};t.webkit.messageHandlers.MobileNavi.postMessage(i)}}r.report("setNaviBackground")}},saveImage:function(a){if(r.checkInputParams(this.params.saveImageParams,a)){var n=JSON.stringify(a);if(e.Common.printMsg("webview","saveImage:"+n),t.JDAppUnite&&t.JDAppUnite.saveImageToPhoteAlbum)JDAppUnite.saveImageToPhoteAlbum(n);else if(e.Common.client.WKwebview){var i={method:"saveImageToPhoteAlbum",params:n};t.webkit.messageHandlers.JDAppUnite.postMessage(i)}}r.report("saveImage")},setNaviTransparent:function(a){if(r.isJDApp()&&r.checkInputParams(this.params.setNaviTransparentParams,a)){var n=r.getConfigString(this.params.setNaviTransparentParams,a);e.Common.printMsg("webview","setNaviTransparent:"+n),t.MobileNavi&&t.MobileNavi.enableTransparent?MobileNavi.enableTransparent(n):e.Common.client.WKwebview&&t.webkit.messageHandlers.MobileNavi.postMessage({method:"enableTransparent",params:n})}}}}(r,r.Module),r});